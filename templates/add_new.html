{% extends 'base.html' %}

{% block style %}
<link rel="stylesheet" href="{{url_for('static', filename='assets/css/style.css')}}">
<link rel="stylesheet" href="{{url_for('static', filename='assets/css/timepicker.min.css')}}">
<link rel="stylesheet" href="{{url_for('static', filename='assets/css/dashboard.css')}}">
{% endblock %}

{% block body %}

{% include 'auth.html' %}

{% endblock %}

{% block main %}
<main>
    <form action="{{url_for('add_new')}}" method="post" id="form">
        <div class="container">
            <div class="form flex row-lg row-md column-sm form-card">
                <div class="left flex column-all align-center expand sign-up-with justify-center">
                    <!-- <button class="btn primary md mb-1">Sign up with Facebook</button>
                    <button class="btn red md">Sign up with Google</button> -->
                </div>
                <div class="right expand flex column-all justify-center align-center">
                    <h3 class="form-title mb-3">Add New <br> <span></span> </h3>
                    <div class="input-group flex column-all justify-center">
                        {{form.csrf_token}}
                        {{form.name(placeholder='Business Name', required=true)}}
                        {{form.email(placeholder='Email Address', required=true)}}
                        {{form.date.label}}
                        {{form.date(required=true)}}
                        <input type="text" id="time" placeholder="Time" name="time">
                        {{form.hours(placeholder='Hour(s)', required=true)}}
                        {{form.space(placeholder='Space Name', required=true)}}
                        <button class="btn primary md">Add</button>
                    </div>
                </div>
            </div>
        </div>
    </form>
</main>
{% endblock %}
{% block script %}
<script src="{{ url_for('static', filename='assets/js/dashboard.js') }}"></script>
<script src="{{ url_for('static', filename='assets/js/timepicker.min.js') }}"></script>
<script>

    $('#form').submit(function(e){        
        var time = document.getElementById('time').value
        if (time.length > 5){
            alert('time not that long')
            alert('ohh and please right click and click on inspect element.')
            console.log('fuck you!!!!!!')

            return false
        }

        for (var i=0; i<time.length; i++){
            if ((isNaN(time[i]) === true ) && (time[i] !== ':')){
                alert('Enter valid time!!')
                alert('ohh and please right click and click on inspect element.')
                console.log('fuck you!!!!!!')
                return false
            }
        }
        return true
    })
    var timepicker = new TimePicker('time', {
      lang: 'en',
      theme: 'dark'
    });
    timepicker.on('change', function(evt) { 
      var value = (evt.hour || '00') + ':' + (evt.minute || '00');
      evt.element.value = value;
    })

</script>

{% endblock %}